{"version":3,"file":"js/206.6e8ce5de.js","mappings":"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","sources":["webpack://week6-homework/./node_modules/.pnpm/mitt@3.0.0/node_modules/mitt/dist/mitt.mjs","webpack://week6-homework/./src/lib/emitter.js","webpack://week6-homework/./src/views/FrontView/CartView.vue","webpack://week6-homework/./src/views/FrontView/CartView.vue?6c87"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt';\n\nconst emitter = mitt();\nexport default emitter;\n","<template>\n  <h1 class=\"text-center\">\n    Cart\n  </h1>\n  <div class=\"container w300\">\n    <div class=\"row justify-content-center\">\n      <table class=\"table align-middle text-center\">\n        <thead>\n          <tr>\n            <th class=\"col-1\" />\n            <th class=\"col-3\">\n              品名\n            </th>\n            <th class=\"col-2\">\n              數量\n            </th>\n            <th class=\"col-2\">\n              單價\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr\n            v-for=\"item in carts.carts\"\n            :key=\"item.id\"\n          >\n            <th>\n              <button\n                class=\"btn btn-sm btn-outline-danger\"\n                @click=\"removeCart(item.id)\"\n              >\n                移除購物車\n              </button>\n            </th>\n            <th>{{ item.product.title }}</th>\n            <th>{{ item.qty }} / 個</th>\n            <th>{{ item.total }}</th>\n          </tr>\n        </tbody>\n        <tfoot>\n          <tr class=\"text-end\">\n            <th\n              colspan=\"3\"\n            >\n              總計\n            </th>\n            <th>{{ carts.total }}</th>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n    <div class=\"home\">\n      <Form\n        ref=\"form\"\n        v-slot=\"{ errors }\"\n        @submit=\"onSubmit\"\n      >\n        <!-- Email -->\n        <div class=\"mb-3\">\n          <label\n            for=\"email\"\n            class=\"form-label\"\n          >Email</label>\n\n          <Field\n            id=\"email\"\n            v-model=\"order.user.email\"\n            name=\"email\"\n\n            type=\"email\"\n            class=\"form-control\"\n\n            :class=\"{ 'is-invalid': errors['email'] }\"\n            placeholder=\"請輸入 Email\"\n            rules=\"email|required\"\n          />\n\n          <error-message\n            name=\"email\"\n            class=\"invalid-feedback\"\n          />\n        </div>\n        <!-- 姓名 -->\n        <div class=\"mb-3\">\n          <label\n            for=\"email\"\n            class=\"form-label\"\n          >收件人姓名</label>\n\n          <Field\n            id=\"name\"\n            v-model=\"order.user.name\"\n            name=\"姓名\"\n\n            type=\"text\"\n            class=\"form-control\"\n\n            :class=\"{ 'is-invalid': errors['姓名'] }\"\n            placeholder=\"請輸入 姓名\"\n            rules=\"required\"\n          />\n\n          <error-message\n            name=\"姓名\"\n            class=\"invalid-feedback\"\n          />\n        </div>\n        <!-- 收件人電話 -->\n        <div class=\"mb-3\">\n          <label\n            for=\"tel\"\n            class=\"form-label\"\n          >收件人電話</label>\n\n          <Field\n            id=\"name\"\n            v-model=\"order.user.tel\"\n            name=\"電話\"\n\n            type=\"text\"\n            class=\"form-control\"\n\n            :class=\"{ 'is-invalid': errors['電話'] }\"\n            placeholder=\"請輸入 收件人電話\"\n            :rules=\"isPhone\"\n          />\n\n          <error-message\n            name=\"電話\"\n            class=\"invalid-feedback\"\n          />\n        </div>\n        <!-- 收件人地址 -->\n        <div class=\"mb-3\">\n          <label\n            for=\"email\"\n            class=\"form-label\"\n          >收件人地址</label>\n\n          <Field\n            id=\"name\"\n            v-model=\"order.user.address\"\n            name=\"地址\"\n\n            type=\"text\"\n            class=\"form-control\"\n\n            :class=\"{ 'is-invalid': errors['地址'] }\"\n            placeholder=\"請輸入 地址\"\n            rules=\"required\"\n          />\n\n          <error-message\n            name=\"地址\"\n            class=\"invalid-feedback\"\n          />\n        </div>\n        <div class=\"mb-3\">\n          <label\n            for=\"message\"\n            class=\"form-label\"\n          >留言</label>\n          <textarea\n            id=\"message\"\n            v-model=\"order.message\"\n            name=\"\"\n            class=\"form-control\"\n            cols=\"30\"\n            rows=\"10\"\n          />\n        </div>\n        <div class=\"text-end\">\n          <button\n            class=\"btn btn-primary\"\n            type=\"submit\"\n          >\n            送出訂單\n          </button>\n        </div>\n      </Form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/lib/emitter';\n\nexport default {\n  data() {\n    return {\n      carts: {},\n      order: {\n        user: {\n          email: '',\n          name: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  mounted() {\n    this.getCart();\n  },\n  methods: {\n    getCart() {\n      this.$http.get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`)\n        .then((res) => {\n          this.carts = res.data.data;\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    removeCart(id) {\n      console.log(id);\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`)\n        .then((res) => {\n          this.getCart();\n          emitter.emit('get-cart');\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    removeallCart() {\n      this.$http.delete(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`)\n        .then((res) => {\n          this.getCart();\n          emitter.emit('get-cart');\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    onSubmit() {\n      const data = this.order;\n      this.$http.post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`, { data })\n        .then((res) => {\n          this.$refs.form.resetForm();\n          emitter.emit('get-cart');\n          this.getCart();\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '需要正確的電話號碼';\n    },\n  },\n};\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=8252d64a\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/qiuweiting/Desktop/Vue學習資料/week6-homework/node_modules/.pnpm/vue-loader@17.0.0_webpack@5.70.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","_createElementVNode","class","colspan","for","type","_hoisted_1","_hoisted_5","_createElementBlock","_Fragment","_renderList","$data","carts","item","key","id","onClick","$options","_hoisted_6","_toDisplayString","product","title","qty","total","_hoisted_8","_createVNode","_component_Form","ref","onSubmit","errors","_hoisted_11","_component_Field","user","email","$event","name","placeholder","rules","_component_error_message","_hoisted_13","_hoisted_15","tel","_hoisted_17","address","_hoisted_19","message","cols","rows","_hoisted_20","data","order","mounted","this","getCart","methods","$http","then","res","catch","err","console","log","removeCart","delete","removeallCart","post","$refs","form","resetForm","isPhone","value","phoneNumber","test","__exports__","render"],"sourceRoot":""}