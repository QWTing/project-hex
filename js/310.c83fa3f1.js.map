{"version":3,"file":"js/310.c83fa3f1.js","mappings":"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","sources":["webpack://week6-homework/./node_modules/.pnpm/mitt@3.0.0/node_modules/mitt/dist/mitt.mjs","webpack://week6-homework/./src/lib/emitter.js","webpack://week6-homework/./src/views/FrontView/ProductsView.vue","webpack://week6-homework/./src/components/ProductModal.vue","webpack://week6-homework/./src/components/ProductModal.vue?786b","webpack://week6-homework/./src/views/FrontView/ProductsView.vue?0689"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt';\n\nconst emitter = mitt();\nexport default emitter;\n","<template>\n  <div class=\"container\">\n    <h2 class=\"text-center\">\n      Products\n    </h2>\n    <table class=\"table align-middle\">\n      <thead>\n        <tr class=\"text-center\">\n          <th class=\"col-1 text-start\">\n            Pictrue\n          </th>\n          <th class=\"col-3\">\n            Product\n          </th>\n          <th class=\"col-3\">\n            Price\n          </th>\n          <th class=\"col-3\" />\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          v-for=\"item in products\"\n          :key=\"item.id\"\n          class=\"text-center\"\n        >\n          <td>\n            <div\n              style=\"\n                width: 200px;\n                height: 150px;\n                background-size: cover;\n                background-position: center;\n              \"\n              :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\n            />\n          </td>\n          <td class=\"fs-5\">\n            {{ item.title }}\n          </td>\n          <td>\n            <p\n              v-if=\"item.price === item.origin_price\"\n              class=\"fs-5\"\n            >\n              售價：{{ item.price }}\n            </p>\n            <div v-else>\n              <p class=\"fs-6 text-decoration-line-through\">\n                原價 {{ item.origin_price }} 元\n              </p>\n              <p class=\"fs-5\">\n                現在只要 {{ item.price }} 元\n              </p>\n            </div>\n          </td>\n          <td class=\"text-end\">\n            <div class=\"btn-group btn-group-sm\">\n              <button\n                class=\"btn btn-outline-secondary\"\n                @click=\"getProduct(item.id)\"\n              >\n                更多資訊\n              </button>\n              <button\n                class=\"btn btn-outline-danger\"\n                @click=\"AddtoCart(item.id)\"\n              >\n                加入購物車\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <ProductModal\n      ref=\"productmodal\"\n      :product=\"product\"\n      @add-to-cart=\"AddtoCart\"\n    />\n  </div>\n</template>\n\n<script>\nimport ProductModal from '@/components/ProductModal.vue';\nimport emitter from '@/lib/emitter';\n\nexport default {\n  components: { ProductModal },\n  data() {\n    return {\n      products: [],\n      product: {},\n    };\n  },\n  mounted() {\n    this.getProducts();\n  },\n  methods: {\n    getProducts() {\n      this.$http(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          this.products = res.data.products;\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    getProduct(id) {\n      this.$http(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`)\n        .then((res) => {\n          this.product = res.data.product;\n          this.$refs.productmodal.openModal();\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n    AddtoCart(id, qty = 1) {\n      const cart = {\n        product_id: id,\n        qty,\n      };\n      this.$http.post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`, { data: cart })\n        .then((res) => {\n          emitter.emit('get-cart');\n          this.$refs.productmodal.hideModal();\n        }).catch((err) => {\n          console.log(err);\n        });\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    id=\"productmodal\"\n    ref=\"modal\"\n    class=\"modal fade\"\n    data-bs-backdrop=\"static\"\n    data-bs-keyboard=\"false\"\n    tabindex=\"-1\"\n    aria-labelledby=\"staticBackdropLabel\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog modal-xl\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5\n            id=\"staticBackdropLabel\"\n            class=\"modal-title\"\n          >\n            {{ product.title }}\n          </h5>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-6\">\n              <img\n                class=\"img-fluid\"\n                :src=\"product.imageUrl\"\n                alt=\"\"\n              >\n            </div>\n            <div class=\"col-sm-6\">\n              <div class=\"badge bg-secondary\">\n                {{ product.category }}\n              </div>\n              <div class=\"h6\">\n                商品描述：尺寸：{{ product.description }}\n              </div>\n              <div class=\"h6\">\n                商品內容：{{ product.content }}\n              </div>\n              <div>\n                <p\n                  v-if=\"product.price === product.origin_price\"\n                  class=\"fs-5\"\n                >\n                  售價：{{ product.price }}\n                </p>\n                <div v-else>\n                  <p class=\"fs-6 text-decoration-line-through\">\n                    原價 {{ product.origin_price }} 元\n                  </p>\n                  <p class=\"fs-5\">\n                    現在只要 {{ product.price }} 元\n                  </p>\n                </div>\n              </div>\n              <div>\n                <div class=\"input-group\">\n                  <input\n                    v-model=\"qty\"\n                    type=\"number\"\n                    class=\"form-control\"\n                  >\n                  <button\n                    class=\"btn btn-primary\"\n                    @click=\"$emit('add-to-cart',product.id,qty)\"\n                  >\n                    加入購物車\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  emits: ['add-to-cart'],\n  data() {\n    return {\n      status: {},\n      modal: '',\n      qty: 1,\n    };\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n  },\n  methods: {\n    openModal() {\n      this.modal.show();\n    },\n    hideModal() {\n      this.modal.hide();\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=63aca5c2\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/qiuweiting/Desktop/Vue學習資料/week6-homework/node_modules/.pnpm/vue-loader@17.0.0_webpack@5.70.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=a32d7bf4\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/qiuweiting/Desktop/Vue學習資料/week6-homework/node_modules/.pnpm/vue-loader@17.0.0_webpack@5.70.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","class","_createElementVNode","_createElementBlock","_hoisted_2","_hoisted_4","_Fragment","_renderList","$data","item","key","id","style","backgroundImage","imageUrl","_toDisplayString","title","price","origin_price","_hoisted_7","onClick","$options","_hoisted_12","_hoisted_13","_createVNode","_component_ProductModal","ref","product","onAddToCart","tabindex","type","$props","src","alt","category","description","content","_hoisted_15","$event","_ctx","_hoisted_19","props","Object","default","emits","data","status","modal","qty","mounted","this","Modal","$refs","keyboard","backdrop","methods","openModal","show","hideModal","hide","__exports__","components","ProductModal","products","getProducts","$http","then","res","catch","err","console","log","getProduct","productmodal","AddtoCart","cart","product_id","post","render"],"sourceRoot":""}